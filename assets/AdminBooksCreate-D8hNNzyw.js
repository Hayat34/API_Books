import{r as u,c as d,a as e,w as s,v as r,f as m,b as p,e as v}from"./index-wNGv4PtD.js";const b={class:"container mt-5"},f={class:"mb-3"},c={class:"mb-3"},y={class:"row"},U={class:"col-md-6 mb-3"},g={class:"col-md-6 mb-3"},N={class:"mb-3"},w={class:"mb-3"},x={class:"mb-3"},j={__name:"AdminBooksCreate",setup(T){const n=p(),t=u({title:"",originalTitle:"",author:{firstName:"",lastName:""},genre:"",publicationYear:"",coverUri:""}),i=async()=>{try{const a=await fetch("http://localhost:3000/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)});if(!a.ok)throw new Error("Erreur lors de l’ajout du livre");const l=await a.json();console.log("Livre ajouté:",l),n.push("/admin/books")}catch(a){console.error(a),alert("Échec de l’ajout du livre")}};return(a,l)=>(v(),d("div",b,[l[15]||(l[15]=e("h2",null,"➕ Ajouter un nouveau livre",-1)),e("form",{onSubmit:m(i,["prevent"]),class:"mt-4"},[e("div",f,[l[7]||(l[7]=e("label",{class:"form-label"},"Titre",-1)),s(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=o=>t.value.title=o),class:"form-control",required:""},null,512),[[r,t.value.title]])]),e("div",c,[l[8]||(l[8]=e("label",{class:"form-label"},"Titre original",-1)),s(e("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=o=>t.value.originalTitle=o),class:"form-control"},null,512),[[r,t.value.originalTitle]])]),e("div",y,[e("div",U,[l[9]||(l[9]=e("label",{class:"form-label"},"Prénom de l’auteur",-1)),s(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=o=>t.value.author.firstName=o),class:"form-control"},null,512),[[r,t.value.author.firstName]])]),e("div",g,[l[10]||(l[10]=e("label",{class:"form-label"},"Nom de l’auteur",-1)),s(e("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=o=>t.value.author.lastName=o),class:"form-control"},null,512),[[r,t.value.author.lastName]])])]),e("div",N,[l[11]||(l[11]=e("label",{class:"form-label"},"Genre",-1)),s(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=o=>t.value.genre=o),class:"form-control"},null,512),[[r,t.value.genre]])]),e("div",w,[l[12]||(l[12]=e("label",{class:"form-label"},"Année de publication",-1)),s(e("input",{type:"number","onUpdate:modelValue":l[5]||(l[5]=o=>t.value.publicationYear=o),class:"form-control"},null,512),[[r,t.value.publicationYear]])]),e("div",x,[l[13]||(l[13]=e("label",{class:"form-label"},"URL de l’image de couverture",-1)),s(e("input",{type:"url","onUpdate:modelValue":l[6]||(l[6]=o=>t.value.coverUri=o),class:"form-control"},null,512),[[r,t.value.coverUri]])]),l[14]||(l[14]=e("button",{type:"submit",class:"btn btn-success"},"Ajouter le livre",-1))],32)]))}};export{j as default};
